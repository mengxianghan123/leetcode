## 1.题目
给你一个长度为 n 的整数数组，请你判断在 最多 改变 1 个元素的情况下，该数组能否变成一个非递减数列。  
我们是这样定义一个非递减数列的： 对于数组中所有的 i (0 <= i <= n-2)，总满足 nums[i] <= nums[i + 1]。  

示例 1:  
输入: nums = [4,2,3]  
输出: true  
解释: 你可以通过把第一个4变成1来使得它成为一个非递减数列。  

示例 2:  
输入: nums = [4,2,1]  
输出: false  
解释: 你不能在只改变一个元素的情况下将其变为非递减数列。  

说明：  
1 <= n <= 10 ^ 4  
-10 ^ 5 <= nums[i] <= 10 ^ 5  

---

## 2.分析
拿到这个问题，我首先考虑到的，就是遍历整个序列，对于在递减的线段，调整成非递减的线段，如果递减线段的个数大于1了，就返回false，小于等于1就返回true。  
那么，调整一个线段有两种方式，一种是下移左端点，一种是上移右端点。不难想到，这种移动不仅会改变目标线段的倾角，还会波及到与移动的端点相连的另一线段的倾角。移动的越多，越容易破坏相邻线段的非递减性，因此，移动的终点便是使线段水平。  
而后可以想到，就算是只移动到使线段水平，也有可能破坏掉与移动的端点相连的另一线段的非递减性。具体的说：  
&emsp;1）假如下移左端点i，假若i-1原本大于i+1，也就是介于i和i+1之间，下移之后i便与i+1相等了，而(i-1，i)线段变为递减。也就是此时不能下移左端点，这解决不了问题。  
&emsp;2）假如上移右端点i，假若i+1原本小于i-1，也就是介于i-1和i之间，上移之后i便与i-1相等了，而(i, i+1)线段变为递减。也就是此时不能上移右端点，这解决不了问题。  
以上我列举了两种方案行不通的条件，那么只要不是同时满足两条件，都是可以顺利转化递减线段的。  
遍历每一节点时，我们需要将其与其前（或后）的节点比较，来判断增减性。那么容易想到，对于整个序列的两端，会存在特殊情况，此时不需要考虑上面那么多，因为只要出现递减，就一定可以改成非递减。  
全部情况考虑完了，这个题感觉有点麻烦，完全考虑清楚各种情况，并且bug-free，对我这种菜鸡还是挺难的，但是题目本身不难，还需多练多想。  

## 3.其它
看到有的题解在判断出递减可修改后，会进行修改，再继续往后遍历。我想了下各种情况，感觉没有这个必要，可能会更省一点运行时间。